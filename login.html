<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - ZenTrade</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#00F5D4",
                        secondary: "#7B2CBF",
                        "background-light": "#f6f7f8",
                        "background-dark": "#0a0a0a",
                        "surface-dark": "#1a1a1a",
                        "surface-light": "#ffffff",
                        "text-primary": "#ffffff",
                        "text-secondary": "#a0a0a0",
                        "text-dark": "#1a1a1a",
                        "border-dark": "#333333",
                        "border-light": "#e5e5e5",
                        "success": "#10b981",
                        "error": "#ef4444",
                        "warning": "#f59e0b"
                    },
                    fontFamily: {
                        display: ["Space Grotesk", "Inter", "system-ui", "sans-serif"],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' }
                        },
                        glow: {
                            '0%': { boxShadow: '0 0 20px rgba(0, 245, 212, 0.3)' },
                            '100%': { boxShadow: '0 0 30px rgba(0, 245, 212, 0.6)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a0a0a 100%);
        }
        .glass-effect {
            background: rgba(26, 26, 26, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .glow-border {
            position: relative;
        }
        .glow-border::before {
            content: '';
            position: absolute;
            inset: 0;
            padding: 1px;
            background: linear-gradient(45deg, #00F5D4, #7B2CBF, #00F5D4);
            border-radius: inherit;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            opacity: 0.6;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen flex items-center justify-center p-4">
    <!-- Background Elements -->
    <div class="absolute inset-0 overflow-hidden">
        <div class="absolute top-20 left-20 w-72 h-72 bg-primary/10 rounded-full blur-3xl animate-float"></div>
        <div class="absolute bottom-20 right-20 w-96 h-96 bg-secondary/10 rounded-full blur-3xl animate-float" style="animation-delay: -3s;"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-primary/5 rounded-full blur-2xl animate-glow"></div>
    </div>

    <div class="relative z-10 w-full max-w-md">
        <!-- Logo and Header -->
        <div class="text-center mb-8">
            <div class="inline-flex items-center justify-center w-16 h-16 mb-4">
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="w-full h-full">
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#00F5D4;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#00D4FF;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#7B2CBF;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="pulseGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#00F5D4;stop-opacity:0.8" />
                            <stop offset="50%" style="stop-color:#00D4FF;stop-opacity:0.6" />
                            <stop offset="100%" style="stop-color:#7B2CBF;stop-opacity:0.8" />
                        </linearGradient>
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
                            <feMerge> 
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>
                    
                    <!-- Animated inner ring -->
                    <circle cx="50" cy="50" r="40" 
                            stroke="url(#pulseGradient)" 
                            stroke-width="3" 
                            fill="none" 
                            opacity="0.7">
                        <animateTransform attributeName="transform" 
                                        type="rotate" 
                                        values="360 50 50;0 50 50" 
                                        dur="6s" 
                                        repeatCount="indefinite"/>
                    </circle>
                    
                    <!-- Central hexagon -->
                    <polygon points="50,25 70,40 70,60 50,75 30,60 30,40" 
                             stroke="url(#logoGradient)" 
                             stroke-width="4" 
                             fill="none" 
                             filter="url(#glow)">
                        <animate attributeName="opacity" 
                                 values="0.7;1;0.7" 
                                 dur="2s" 
                                 repeatCount="indefinite"/>
                    </polygon>
                    
                    <!-- Animated data points -->
                    <circle cx="25" cy="45" r="4" fill="#00F5D4" opacity="0.9">
                        <animate attributeName="r" values="3;6;3" dur="1.5s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="0.6;1;0.6" dur="1.5s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="50" cy="30" r="4" fill="#00D4FF" opacity="0.9">
                        <animate attributeName="r" values="3;6;3" dur="1.8s" repeatCount="indefinite" begin="0.3s"/>
                        <animate attributeName="opacity" values="0.6;1;0.6" dur="1.8s" repeatCount="indefinite" begin="0.3s"/>
                    </circle>
                    <circle cx="75" cy="45" r="4" fill="#7B2CBF" opacity="0.9">
                        <animate attributeName="r" values="3;6;3" dur="2s" repeatCount="indefinite" begin="0.6s"/>
                        <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite" begin="0.6s"/>
                    </circle>
                    
                    <!-- Animated connection lines -->
                    <path d="M25,45 L50,30 L75,45" 
                          stroke="url(#logoGradient)" 
                          stroke-width="2.5" 
                          fill="none" 
                          opacity="0.7">
                        <animate attributeName="opacity" values="0.4;0.9;0.4" dur="3s" repeatCount="indefinite"/>
                    </path>
                </svg>
            </div>
            <h1 class="text-3xl font-bold text-text-primary mb-2">Welcome Back</h1>
            <p class="text-text-secondary">Sign in to your ZenTrade account</p>
        </div>

        <!-- Login Form -->
        <div class="glass-effect rounded-2xl p-8 glow-border">
            <form id="loginForm" class="space-y-6">
                <!-- Email -->
                <div>
                    <label for="email" class="block text-sm font-medium text-text-primary mb-2">Email Address</label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email"
                        required
                        class="w-full px-4 py-3 bg-surface-dark border border-border-dark rounded-xl text-text-primary placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200"
                        placeholder="john@example.com"
                    >
                </div>

                <!-- Password -->
                <div>
                    <label for="password" class="block text-sm font-medium text-text-primary mb-2">Password</label>
                    <input 
                        type="password" 
                        id="password" 
                        name="password"
                        required
                        class="w-full px-4 py-3 bg-surface-dark border border-border-dark rounded-xl text-text-primary placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200"
                        placeholder="••••••••"
                    >
                </div>

                <!-- Remember Me & Forgot Password -->
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <input 
                            type="checkbox" 
                            id="remember" 
                            name="remember"
                            class="w-4 h-4 text-primary bg-surface-dark border-border-dark rounded focus:ring-primary/50 focus:ring-2"
                        >
                        <label for="remember" class="text-sm text-text-secondary">Remember me</label>
                    </div>
                    <a href="forgot-password.html" class="text-sm text-primary hover:text-primary/80 transition-colors">Forgot password?</a>
                </div>

                <!-- Error Message -->
                <div id="errorMessage" class="hidden p-4 bg-error/10 border border-error/20 rounded-xl">
                    <p id="errorText" class="text-sm text-error"></p>
                </div>

                <!-- Success Message -->
                <div id="successMessage" class="hidden p-4 bg-success/10 border border-success/20 rounded-xl">
                    <p id="successText" class="text-sm text-success"></p>
                </div>

                <!-- Submit Button -->
                <button 
                    type="submit" 
                    class="w-full bg-gradient-to-r from-primary to-secondary text-black font-semibold py-3 px-6 rounded-xl hover:from-primary/90 hover:to-secondary/90 transform hover:scale-[1.02] transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50"
                >
                    Sign In
                </button>
            </form>

            <!-- Divider -->
            <div class="mt-6 mb-6">
                <div class="relative">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-border-dark"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-2 bg-surface-dark text-text-secondary">Or continue with</span>
                    </div>
                </div>
            </div>

            <!-- Social Login Buttons -->
            <div class="grid grid-cols-2 gap-3">
                <button class="flex items-center justify-center px-4 py-3 bg-surface-dark border border-border-dark rounded-xl text-text-primary hover:bg-surface-dark/80 transition-all duration-200">
                    <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                        <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    </svg>
                    Google
                </button>
                <button class="flex items-center justify-center px-4 py-3 bg-surface-dark border border-border-dark rounded-xl text-text-primary hover:bg-surface-dark/80 transition-all duration-200">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                    </svg>
                    Facebook
                </button>
            </div>

            <!-- Register Link -->
            <div class="mt-6 text-center">
                <p class="text-text-secondary">
                    Don't have an account? 
                    <a href="register.html" class="text-primary hover:text-primary/80 font-medium transition-colors">Create one</a>
                </p>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="mt-8 grid grid-cols-3 gap-4 text-center">
            <div class="glass-effect rounded-xl p-4">
                <div class="text-2xl font-bold text-primary mb-1">10K+</div>
                <p class="text-xs text-text-secondary">Active Traders</p>
            </div>
            <div class="glass-effect rounded-xl p-4">
                <div class="text-2xl font-bold text-secondary mb-1">50K+</div>
                <p class="text-xs text-text-secondary">Trades Logged</p>
            </div>
            <div class="glass-effect rounded-xl p-4">
                <div class="text-2xl font-bold text-primary mb-1">99%</div>
                <p class="text-xs text-text-secondary">Uptime</p>
            </div>
        </div>
    </div>

    <!-- Auth script removed to prevent conflicts -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('loginForm');
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');
            const errorText = document.getElementById('errorText');
            const successText = document.getElementById('successText');

            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Hide previous messages
                errorMessage.classList.add('hidden');
                successMessage.classList.add('hidden');

                // Get form data
                const formData = new FormData(form);
                const email = formData.get('email');
                const password = formData.get('password');
                const remember = formData.get('remember');

                try {
                    // Show loading state
                    const submitBtn = form.querySelector('button[type="submit"]');
                    const originalText = submitBtn.textContent;
                    submitBtn.textContent = 'Signing In...';
                    submitBtn.disabled = true;

                    // Sign in user
                    const result = await window.authManager.signIn(email, password);

                    showSuccess('Login successful! Redirecting...');
                    
                    // Redirect to dashboard after a short delay
                    setTimeout(() => {
                        window.location.href = 'dashboard.html';
                    }, 1500);

                } catch (error) {
                    console.error('Login error:', error);
                    showError(error.message || 'Login failed. Please check your credentials.');
                } finally {
                    // Reset button
                    const submitBtn = form.querySelector('button[type="submit"]');
                    submitBtn.textContent = 'Sign In';
                    submitBtn.disabled = false;
                }
            });

            function showError(message) {
                errorText.textContent = message;
                errorMessage.classList.remove('hidden');
            }

            function showSuccess(message) {
                successText.textContent = message;
                successMessage.classList.remove('hidden');
            }
        });
    </script>
</body>
</html>
